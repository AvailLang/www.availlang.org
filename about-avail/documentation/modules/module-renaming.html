<!doctype html>
<!--[if lt IE 7]> <html class="ie6 oldie"> <![endif]-->
<!--[if IE 7]>    <html class="ie7 oldie"> <![endif]-->
<!--[if IE 8]>    <html class="ie8 oldie"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="">
<!--<![endif]-->

	<head>
	
<!--#include virtual="/_include/head.ssi" -->
	
		<title>Modules - Module Renaming</title>

	</head>

	<body class="gradient-logo">
	
<!--#include virtual="/_include/body-top.ssi" -->
		
<h2 class="content-title">Module Renaming</h2>

<p>An Avail programmer can short-circuit the <a href="./module-resolution.html">module resolution process</a> for an import target by supplying a module renames file. A <strong>module renames file</strong> is a <a class="offsite" href="http://en.wikipedia.org/wiki/Plain_text">plain text</a> document that contains <a class="offsite" href="http://en.wikipedia.org/wiki/Unicode">Unicode</a> <a class="offsite" href="http://en.wikipedia.org/wiki/Code_point">code points</a> in the <a class="offsite" href="http://en.wikipedia.org/wiki/Utf-8">UTF-8</a> <a class="offsite" href="http://en.wikipedia.org/wiki/Character_encoding">character encoding</a>. Its contents are zero or more module renaming rules:</p>

<div class="svg-wrapper">
<img src="/_images/modules/module-renames-file.svg" class="embedded-svg">
</div>

<p>Where a module renaming rule is expressed by <code>sourceName &rarr; targetName</code>, and <code>sourceName</code> and <code>targetName</code> are <a class="glossary" href="../../glossary/canonical-name.html">canonical names</a> denoted as simple quoted strings. In this context, a simple quoted string comprises a <em>quotation mark</em> <code>"</code> <code class="unicode">(U+0022)</code>, then arbitrarily many characters other than a quotation mark, then a quotation mark. A <strong>module renaming rule</strong> is a directive to the module resolution process to replace each occurrence of <code>sourceName</code> with <code>targetName</code> <em>before</em> attempting to derive a file reference.</p>

<p>All official Avail tools released and supported by The Avail Foundation, LLC, such as the Avail workbench and the command-line Avail compiler, support specification of the module renames file via the <code>AVAIL_RENAMES</code> <a class="offsite" href="http://en.wikipedia.org/wiki/Environment_variable">environment variable</a>.<sup><a href="#fn1">[1]</a></sup></p>

<p>The need to augment the usual module resolution process with a module renames file is unusual; the usual use case is for the module renames file to be an empty document.</p>

<p>Here is an example of a nonempty module roots file:</p>

<div class="restricted-width-container">
<div class="console code-block">"/com.sparkling-walrus.polisherplus/Robot/Brush Controller" → "/com.sparkling-walrus.polisherplus/Robot/Debug Brush Controller"
"/com.sparkling-walrus.polisherplus/Robot/Varnish Applicator Controller" → "/com.sparkling-walrus.polisherplus/Robot/Debug Varnish Applicator Controller"
</div></div>

<p>In this fictional scenario, the innovative folks behind <code>Virtual Walrus Polisher Plus</code> are having problems with a couple of their robot's control modules.<sup><a href="#fn2">[2]</a></sup> They have written both debug and release versions of the controllers responsible for the polishing brush and the varnish applicator attachments of the robot. Presumably the debug versions contain additional logging, assertions, etc. The module renames file directs the system to resolve references to the release modules into references to the debug modules before allowing module name resolution to proceed. Because of this interference, the system will <a href="./module-life-cycle.html">load</a> the debug modules instead of the release modules.</p>

<hr/>

<p><small><a id="fn1">[1]</a> These tools may also permit the module renames path to be specified by some other means, but they will always honor the <code>AVAIL_RENAMES</code> environment variable.</small></p>

<p><small><a id="fn2">[2]</a> Since the product is <code><em>Virtual</em> Walrus Polisher Plus</code>, presumably these are controllers for the attachments of a <em>virtual</em> robot that inhabits the same level of reality as the virtual walrus.</small></p>

<table class="book-nav">
	<tr>
		<td class="book-nav-back"><a class="book-nav-back" href="./canonical-names.html">‹ Canonical Names</a></td>
		<td class="book-nav-spacer">|</td>
		<td class="book-nav-up"><a class="book-nav-up" href="./index.html">Return to Modules</a></td>
		<td class="book-nav-spacer">|</td>
		<td class="book-nav-forward"><a class="book-nav-forward" href="./module-resolution.html">Module Resolution ›</a></td>
	</tr>
</table>

<!--#include virtual="/_include/body-bottom.ssi" -->

	</body>

</html>
